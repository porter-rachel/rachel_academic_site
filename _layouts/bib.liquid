<style>
  .btn {
    border: 1px solid black; /* Adds a black border around all buttons */
  }
  .abstract-content {
    display: none; /* Hide the abstract content initially */
  }
</style>

<div class="row">
  {% if site.enable_publication_thumbnails %}
    <div class="col col-sm-2 abbr">
      {%- if entry.abbr -%}
        {%- if site.data.venues[entry.abbr] -%}
          {% assign venue_style = null %}
          {% if site.data.venues[entry.abbr].color != blank %}
            {% assign venue_style = site.data.venues[entry.abbr].color | prepend: 'style="background-color:' | append: '"' %}
          {%- endif -%}
          <abbr
            class="badge rounded w-100"
            {% if venue_style %}
              {{ venue_style }}
            {% endif %}
          >
            {% if site.data.venues[entry.abbr].url %}
              <a href="{{ site.data.venues[entry.abbr].url }}">{{ entry.abbr }}</a>
            {% else %}
              <div>{{- entry.abbr -}}</div>
            {% endif %}
          </abbr>
        {% else %}
          <abbr class="badge rounded w-100">{{ entry.abbr }}</abbr>
        {% endif %}
      {% endif %}
      {% if entry.preview %}
        {% if entry.preview contains '://' %}
          <img class="preview z-depth-1 rounded" src="{{ entry.preview }}">
        {% else %}
          {% assign entry_path = entry.preview | prepend: '/assets/img/publication_preview/' %}
          {%
            include figure.liquid
            loading="eager"
            path=entry_path
            sizes = "200px"
            class="preview z-depth-1 rounded"
            zoomable=true
            alt=entry.preview
          %}
        {% endif %}
      {% endif %}
    </div>
  {% endif %}

  <!-- Entry bib key -->
  <div id="{{ entry.key }}" class="{% if site.enable_publication_thumbnails %}col-sm-8{% else %}col-sm-10{% endif %}">
    <!-- Title -->
    <div class="title">{{ entry.title }}</div>
    <!-- Author -->
    <div class="author">
      <!-- Author loop and other related code here -->
    </div>

    <!-- Journal/Book title and date -->
    <div class="periodical">
      {{ periodical | strip }}
    </div>
    <div class="periodical">
      {{ entry.note | strip }}
    </div>

    <!-- Links/Buttons -->
    <div class="links">
      {% if entry.award %}
        <a class="award btn btn-sm z-depth-0" role="button">
          {%- if entry.award_name %}{{ entry.award_name }}{% else %}Awarded{% endif -%}
        </a>
      {% endif %}
      {% if entry.abstract %}
        <a class="abstract-toggle btn btn-sm z-depth-0" role="button">ABS</a>
      {% endif %}
      {% if entry.arxiv %}
        <a href="http://arxiv.org/abs/{{ entry.arxiv }}" class="btn btn-sm z-depth-0" role="button">arXiv</a>
      {% endif %}
      <!-- Other buttons like Bib, HTML, PDF, etc. -->
    </div>

    {% if site.enable_publication_badges %}
      <!-- Badges code here -->
    {% endif %}

    {% if entry.abstract %}
      <!-- Hidden abstract block -->
      <div class="abstract-content">
        <p>{{ entry.abstract }}</p>
      </div>
    {% endif %}
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    var abstractToggle = document.querySelector(".abstract-toggle");
    if (abstractToggle) {
      abstractToggle.addEventListener("click", function() {
        var abstractContent = this.closest(".row").querySelector(".abstract-content");
        if (abstractContent.style.display === "none" || abstractContent.style.display === "") {
          abstractContent.style.display = "block";
        } else {
          abstractContent.style.display = "none";
        }
      });
    }
  });
</script>
